<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cron Converter</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f9fafb;
      padding: 2rem;
      display: flex;
      justify-content: center;
    }
    .cron-container {
      background: #fff;
      border-radius: 8px;
      padding: 24px 32px;
      max-width: 400px;
      width: 100%;
      box-shadow: 0 6px 15px rgba(0,0,0,0.1);
    }
    .cron-container h3 {
      margin-top: 0;
      margin-bottom: 1.5rem;
      color: #222;
      text-align: center;
      font-weight: 600;
    }
    label {
      display: block;
      font-weight: 600;
      margin-top: 1rem;
      margin-bottom: 0.4rem;
      color: #333;
    }
    input[type=number] {
      width: 100%;
      padding: 0.4rem 0.6rem;
      font-size: 1rem;
      border: 1.8px solid #ccc;
      border-radius: 5px;
      transition: border-color 0.3s ease;
    }
    input[type=number]:focus {
      border-color: #007bff;
      outline: none;
    }
    button {
      margin-top: 1.5rem;
      width: 100%;
      padding: 0.7rem;
      background-color: #007bff;
      border: none;
      border-radius: 6px;
      font-weight: 700;
      font-size: 1.1rem;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #0056b3;
    }
    p {
      margin-top: 1rem;
      font-size: 1rem;
      color: #222;
    }
    .mono {
      font-family: 'Courier New', Courier, monospace;
      color: #007bff;
    }
    .italic {
      font-style: italic;
      color: #555;
    }
    .warning {
      color: orange;
      font-weight: 700;
      margin-top: 0.5rem;
    }
  </style>
</head>
<body>
  <div class="cron-container">
    <h3>Complex Interval to Cron Expression</h3>

    <label for="minutes">Minutes (0-59):</label>
    <input id="minutes" type="number" min="0" max="59" value="0" />

    <label for="hours">Hours (0-23):</label>
    <input id="hours" type="number" min="0" max="23" value="0" />

    <label for="days">Days (1-31):</label>
    <input id="days" type="number" min="0" max="31" value="0" />

    <button id="convertBtn">Convert</button>

    <p><strong>Cron expression:</strong> <span id="cronResult" class="mono"></span></p>
    <p><strong>Human-readable:</strong> <span id="humanDesc" class="italic"></span></p>
    <p id="warning" class="warning"></p>
  </div>

  <script>
    document.getElementById('convertBtn').addEventListener('click', function() {
      const minutes = parseInt(document.getElementById('minutes').value, 10);
      const hours = parseInt(document.getElementById('hours').value, 10);
      const days = parseInt(document.getElementById('days').value, 10);
      const result = document.getElementById('cronResult');
      const humanDesc = document.getElementById('humanDesc');
      const warning = document.getElementById('warning');

      warning.textContent = '';
      humanDesc.textContent = '';
      result.style.color = 'green';

      if (
        isNaN(minutes) || minutes < 0 || minutes > 59 ||
        isNaN(hours) || hours < 0 || hours > 23 ||
        isNaN(days) || days < 0 || days > 31
      ) {
        result.textContent = '';
        humanDesc.textContent = '';
        warning.textContent = 'Please enter valid values: minutes 0-59, hours 0-23, days 0-31.';
        return;
      }

      if (minutes === 0 && hours === 0 && days === 0) {
        result.textContent = '';
        humanDesc.textContent = '';
        warning.textContent = 'Please enter at least one non-zero value.';
        return;
      }

      let minuteField = '0';
      if (minutes > 0) {
        if (60 % minutes === 0) {
          minuteField = `*/${minutes}`;
        } else {
          minuteField = `${minutes}`;
          warning.textContent = 'Note: Non-standard minute interval, cron may not run as expected.';
        }
      }

      let hourField = '*';
      if (hours > 0) {
        if (24 % hours === 0) {
          hourField = `*/${hours}`;
        } else {
          hourField = `${hours}`;
          warning.textContent = 'Note: Non-standard hour interval, cron may not run as expected.';
        }
      }

      let dayField = '*';
      if (days > 0) {
        dayField = `*/${days}`;
      }

      const monthField = '*';
      const dayOfWeekField = '*';

      const cronString = `${minuteField} ${hourField} ${dayField} ${monthField} ${dayOfWeekField}`;
      result.textContent = cronString;

      // Build human-readable description
      const parts = [];
      if (minutes > 0) parts.push(`every ${minutes} minute${minutes > 1 ? 's' : ''}`);
      if (hours > 0) parts.push(`every ${hours} hour${hours > 1 ? 's' : ''}`);
      if (days > 0) parts.push(`every ${days} day${days > 1 ? 's' : ''}`);

      humanDesc.textContent = parts.join(', ');
    });
  </script>
</body>
</html>
